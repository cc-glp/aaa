<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="./img/tblg.ico">
    <title> 淘宝网 - 淘！我喜欢</title>
    <link rel="stylesheet" href="./font_h2931dea95d/iconfont.css">
    <link rel="stylesheet" href="./common.css">
    <link rel="stylesheet" href="./css/zhuce.css">
</head>

<body>
    <div class="head"></div>
    <div class="page">
        <div class="zhue-had">
            <img src="./img/TB1_uT8a5ERMeJjSspiXXbZLFXa-143-59.png" alt="" width="106px" style="float: left">
            <h2>用户注册</h2>
        </div>
        <div class="step">
            <ul>
                <li class="active"><i>1</i> <span>设置用户名</span></li>
                <li><i>2</i> <span>填写账号信息</span></li>
                <li><i>3</i> <span>注册成功</span></li>
            </ul>
            <div class="tsl-switcher">
                <a>中文</a>
                <a>English</a>
            </div>
        </div>
        <div class="content">
            <div class="shezhiyonghu">
                <div class="shoujihao clearfix"> <span class="ji">手机号</span>
                    <select name="中国大陆" id="">
                        <option>中国大陆&nbsp;&nbsp;&nbsp;&nbsp;+86 </option>
                        <option>中国香港&nbsp;&nbsp;&nbsp;&nbsp;+13</option>
                        <option>马来西亚&nbsp;&nbsp;&nbsp;&nbsp;+26 </option>
                        <option>澳大利亚&nbsp;&nbsp;&nbsp;&nbsp;+16</option>
                        <option>新加波&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+23 </option>
                        <option>日本&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+93</option>
                    </select>
                    <input placeholder="请输入你的手机号码" type="text">
                    <span class="miss"> mirror 请输入你的手机号</span>
                </div>
                <div class="yanzheng clearfix">
                    <span class="ji">验证</span>
                    <div class="yanzheng-div">
                        <span class="yanzheng-green">

                        </span>
                        <span class="yanzheng-cro">
                            >>
                        </span>
                        <span class="yanz-bg">请按住滑块，拖动至最右边</span>
                    </div>
                </div>
                <button class="xiayibu">
                    下一步
                </button>
            </div>
            <div class="tianxiexinxi">
                <div class="form-item clearfix">
                    <div class="form-label">
                        登录名
                    </div>
                    <span class="hao"></span>
                </div>
                <div class="form-item" style="color:black;font-weight: 900">
                    登陆时保护信息
                    <div class="form-label">
                        请设置登陆密码
                    </div>
                </div>
                <div class="form-item clearfix">
                    <div class="form-label">
                        登陆密码
                    </div>
                    <input type="password" class="mimaipt1">
                    <i class="look">look</i>
                    <span style="display: none" class="geshi">密码格式不正确</span>

                </div>
                <div class="form-item clearfix">
                    <div class="form-label">
                        密码确认
                    </div>
                    <input type="password" class="mimaipt2">
                    <i class="look">look</i>
                    <span style="display: none" class="sppp">与上次不一致</span>
                </div>
                <div class="form-item clearfix">
                    <div class="form-label" style="color: black">
                        设置会员名
                    </div>
                </div>
                <div class="form-item clearfix">
                    <div class="form-label">
                        登录名
                    </div>
                    <input type="text" class="mimaipt3">
                    <span></span>
                </div>
                <div class="form-item clearfix">
                    <button class="btn sumbit" style="width: 100px;background: #ff4001;color:white">提交</button>
                </div>
            </div>
            <div class="dengluymian" style="display: none;padding: 0px">
                <div class="form-item clearfix" style="text-align: center">
                    您已经注册成功，即将跳回首页
                </div>
            </div>
        </div>

    </div>
    <!-- 手机验证 -->
    <div class="phone-yan">
        <h3>验证手机 <span class="clo">close</span> </h3>
        <h4>校验码已发送到你的手机，15分钟内输入有效，请勿泄漏</h4>
        <div class="form-item clearfix">

            <div class="form-label">
                手机号
            </div>
            <span class="hao"></span>
        </div>
        <div class="form-item">

            <div class="form-label">
                验证码
            </div>
            <input class="form-text" type="text">
            <button class="btn mianfei">免费获取验证码</button>
        </div>
        <div class="form-item">
            <button class="btn queren" style="width:100px;background:#ff4001;color:white">确认</button>
        </div>
    </div>
    <div class="footer">
        <div class="footer1">
            <p><span>阿里巴巴集团</span><b>|</b><span>阿里巴巴国际站</span><b>|</b><span>阿里巴巴中国站</span><b>|</b>
                <span>全球变卖通</span><b>|</b><span>淘宝网</span><b>|</b><span>天猫</span><b>|</b>
                <span>聚划算</span><b>|</b><span>阿里妈妈</span><b>|</b><span>阿里云计算</span><b>|</b><span>云OS</span><b>|</b>
                <span>万网</span>
            </p>
        </div>
        <p><span>关于淘宝</span><span>合作伙伴</span><span>营销中心</span>
            <span>联系客服</span><span>诚征英才</span><span>联系我们</span>
            <span>网站地图</span><span>法律声明及隐私权政策</span><em style="margin-left: 20px">© 2019 Taobao.com 版权所有</em>
            <br>
            <em>网络文化经营许可证：</em><span>文网文[2010]040号</span><b>|</b><em>增值电信业务经营许可证：浙B2-20080224-1</em>
            <b>|</b><em>信息网络传播视听节目许可证：1109364号</em>
        </p>
    </div>
</body>
<script src="./js/jquery.js"></script>
<script src="./js/cookie.js"></script>
<script>
    $('.head').load('./head.html')
    $('.shezhiyonghu input').focus(function () {
        $('.shezhiyonghu input').css('border-color', '#229bf9')
    })
    // 看缓存的index
    if (getCookie('index') != '') {
        index = getCookie('index')
        console.log(222)
    } else {
        index = 0
    }
    $('.shezhiyonghu input').blur(function () {
        var myreg = /^[1][3,4,5,7,8][0-9]{9}$/;
        var valu = $(this).val()


        if (valu == '') {
            $('.miss').show().text('mirror 请输入您的手机号码')
            $('.shezhiyonghu input').css('border-color', '#ff3f13')
        } else if (myreg.test(valu)) {
            for (var i = 0; i < index + 1; i++) {
                if (valu == getCookie('phone' + i)) {
                    alert('该手机号已存在，请重新注册')
                    window.open('./zhuce.html')
                    break;
                }
            }
            $('.shezhiyonghu input').css('border-color', '#dedede')
            $('.miss').show().text('正确').css('color', 'yellowgreen')
        } else {
            $('.miss').show().text('mirror 手机格式不正确请正确输入')
            $('.shezhiyonghu input').css('border-color', '#ff3f13')

        }
    })
    // 验证
    $('.yanzheng-cro').mousedown(function (ev) {
        s = ev.clientX - ev.offsetX
        $(document).mousemove(function (ev) {
            left = ev.clientX - s
            if (left >= 258) {
                left = 258
            } else if (left < 0) {
                left = 0
            }
            $('.yanzheng-cro').css('left', left)
            $('.yanzheng-green').css('width', left)
        })
        $(document).mouseup(function () {
            if (left != 258) {
                $('.yanzheng-cro').animate({ 'left': 0 }, 1000)
                $('.yanzheng-green').animate({ 'width': 0 }, 1000)
                $(document).off('mousemove')
                $(document).off('mouseup')
            } else {
                $('.yanzheng-cro').off('mousedown')
                $(document).off('mousemove')
                $(document).off('mouseup')
                $('.yanz-bg').text('验证通过').css('color', 'white')
                $('.yanzheng-cro').text('正确').css('color', 'green')
                $('.xiayibu').css("background", "rgb(255, 64, 1)")

            }


        })
    })
    $('.xiayibu').click(function () {

        if ($('.miss').css('color') == 'rgb(154, 205, 50)' && $('.yanz-bg').css('color') == 'rgb(255, 255, 255)') {
            $(this).css('background', '#ff4001')
            $('.phone-yan').show()
            $('.form-text').val('')
            $('.hao').html($('.shezhiyonghu input').val())
            $('.step li').removeClass('active')
            $('.step li').eq(1).addClass('active')
            $('.shezhiyonghu').hide()
        }
    })
    // 手机验证码
    $('.clo').click(function () {
        $('.phone-yan').hide()
        $('.tianxiexinxi').hide().siblings().show()
    })

    $('.hao').html($('.shezhiyonghu input').val())
    $('.mianfei').click(function () {
        num = parseInt(Math.random() * 1000000)
        if(num<100000){
            num = parseInt(Math.random() * 1000000)
            if(num<100000){
                num = parseInt(Math.random() * 1000000)
            }
        }
        alert(num)
    })
    $('.queren').click(function () {
        if ($('.form-text').val() == num) {
            $('.phone-yan').hide()
            $('.tianxiexinxi').show()
        } else {
            alert('笨蛋，告诉你你都输不对')
        }
    })
    $('.look').mousedown(function () {
        var pp = $('.look').parent()
        $(pp).children('input').prop('type', 'text')
    }).mouseup(function () {
        var pp = $('.look').parent()
        $(pp).children('input').prop('type', 'password')
    })
    // 登陆密码
    $('.mimaipt1').blur(function () {
        var reg = new RegExp(/[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/)
        var val = $(this).val()
        if (reg.test(val)) {
            $(this).css('border', '1px solid #dedede')
            $('.geshi').css('color', 'green')
            $('.geshi').text('正确')
        } else {
            $(this).css('border', '1px solid red')
            $('.geshi').show()
            $('.geshi').css('color', 'red')
            $('.geshi').text('密码格式不正确，只能包含数组字母')
        }
    })
    $('.mimaipt2').blur(function () {
        if ($(this).val() == $('.mimaipt1').val()) {
            $(this).css('border', '1px solid #dedede')
            $('.sppp').hide()
        } else {
            $(this).css('border', '1px solid red')
            $('.sppp').show()
            $('.sppp').css('color', 'red')
            $('.sppp').text('与上次不一样')
        }
    })
    $('.mimaipt3').blur(function () {
        if ($(this).val() == '') {
            $(this).css('border', '1px solid red')
            $(p).find('span').show()
            var p = $(this).parent()
            $(p).find('span').css('color', 'red')
            $(p).find('span').text('请输入用户名')
        }
    })
    // $('.shezhiyonghu').hide()
    // $('.tianxiexinxi').show()
    // // removeCookie('pass5')
    console.log($('.hao').html())
    $('.sumbit').click(function () {
        if ($('.mimaipt3') != '') {
            if ($('.mimaipt1').val() == $('.mimaipt2').val()) {
                $('.step li').removeClass('active')
                $('.step li').eq(2).addClass('active')
                $('.dengluymian').css('display', 'block')
                // if()
                // 存入缓存中
                var user = ($('.mimaipt3').val()) 
                var pass = $('.mimaipt2').val()
                var hh = $('.hao').html()
                for (var i = 0; i < index + 1; i++) {
                    if (user == getCookie('user' + i)) {
                        alert('该用户已存在，请重新注册')
                        window.open('./zhuce.html')
                        break;
                    }
                }
                console.log($('.shoujihao input').val())
                index++
                setCookie('user' + index, user, 1)
                setCookie('pass' + index, pass, 1)
                setCookie('phone' + index, hh, 1)
                setCookie('index', index,1)
                $('.tianxiexinxi').hide()
                window.open('./denglu.html','_self')
                }
        } else {
            alert('输入用户名')
        }

    })
</script>

</html>